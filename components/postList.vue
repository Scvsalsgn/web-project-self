<template>
  <div class="post-list">
    <cards v-for="post in posts" :key="post.id" :post="post" @click="selectPost(post)"/>
  </div>
</template>

<script>
import cards from './cards.vue';

export default {
  components: {
    cards,
  },
  data() {
    return {
      posts: [
        { id: 1, title: 'æµ·å£CBDçš„æ—¥è½å±…ç„¶é‚£ä¹ˆç¾', description: 'å›½å…´å¤§é“å¤§è‹±å±±CBDå·²ç»åˆå…·è§„æ¨¡ï¼Œæœªæ¥å¾…æµ·å—ä¸­å¿ƒå»ºæˆï¼Œæµ·å£çš„å¤©é™…çº¿å°†ä¼šæ›´æœ‰å±‚æ¬¡æ„Ÿ!', 
        image1: 'https://mp-c3036ca5-d4f1-4495-acd5-cf521789bd80.cdn.bspapp.com/static/img1.jpg',image2:'https://mp-c3036ca5-d4f1-4495-acd5-cf521789bd80.cdn.bspapp.com/static/img2.jpg' ,
        comments: [
        {name: 'é»å°å–µ', content: 'æœ€è¿‘çš„å¤©æ°”çœŸçš„æŒºå¥½çš„'},
        {name: 'ğŸ’«Vincent æ¸¸åŒ—å¡', content: "The weather's been really nice lately."},
        {name: 'Rose', content: 'so beatuiful!'},
        
        
        ],
      },
        { id: 2, title: 'æµ·å£å°è±¡', description: 'æµ·å£éª‘æ¥¼è€è¡—çš„æ™šä¸Šçƒ­é—¹éå‡¡ï¼Œæœ¬åœ°äººä¸‰ä¸‰ä¸¤ä¸¤èšåœ¨ä¸€èµ·åƒé¥­å–é…’èŠå¤©ï¼Œè·¯è¾¹åœæ»¡äº†ç”µåŠ¨è‡ªè¡Œè½¦ï¼Œè¿™å°±æ˜¯æµ·å£äººçš„æ¾å¼›æ„Ÿå§ã€‚', 
        image1: 'https://sns-webpic-qc.xhscdn.com/202410221712/c1df0e9958b36d062298ba60eaa007a7/1040g0083196631g44k405n89krpllcniuan75q8!nd_dft_wgth_webp_3',
          comments: [
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
    ],
      },
        { id: 3, title: 'æµ·å£è§‚æµ·å°', description: 'æ‹æ‘„äºæ—¥å‡ºå‰çš„è“è°ƒï¼Œç¬¬ä¸€æ¬¡ç”¨12mmç„¦æ®µã€‚æ™’æ™’æµ·å£çš„é£å…‰', 
        image1: 'https://sns-webpic-qc.xhscdn.com/202410221714/74ed1ee986404129566c88fc84d436f0/1040g00831969rfmp4u004aco5t260ej1f88hgb0!nc_n_webp_mw_1',
        comments: [ 
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
    ],
         },
        { id: 4, title: 'è¿™å„¿å¯èƒ½æ˜¯æµ·å£äººæœ€å¤šçš„åœ°æ–¹', description: 'ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ·¡å­£ å“ªå“ªäººéƒ½å¾ˆå°‘åå…¬äº¤ç»å¸¸åŒ…è½¦å°±éª‘æ¥¼è€è¡—äººä¸å°‘ä¸€åŠè¯—æ„ä¸€åŠçƒŸç« æ´‹æ°”å¤å¤ å¦ˆç¥–ä¿ä½‘ è¿åƒå‡ å¤©åƒè€çˆ¸èŒ¶', 
        image1: 'https://sns-webpic-qc.xhscdn.com/202410221718/c42c201250cc8ce0d4c89852686086f2/1040g0083190qn0d154005nrfdo3g8ofksdib6lg!nc_n_webp_mw_1',
        comments: [ 
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
    ],  
         },
        { id: 5, title: 'Sunset in Haikou CBD is actually so beautiful!',  description: "Guoxing Avenue Danyingshan CBD has taken shape, the future to be built in Hainan Center, Haikou's skyline will be more layered!" ,
        image1: 'https://mp-c3036ca5-d4f1-4495-acd5-cf521789bd80.cdn.bspapp.com/static/img1.jpg',image2:'https://mp-c3036ca5-d4f1-4495-acd5-cf521789bd80.cdn.bspapp.com/static/img2.jpg' ,
        comments: [
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
        ],
      },
        { id: 6, title: 'Haikou Impression',  description: 'The old street of Haikou Jialou is bustling at night, locals gather in twos and threes to eat and drink and chat, and the roadside is full of motorized bicycles, which is the sense of relaxation of Haikou people, right?',
         image1: 'https://sns-webpic-qc.xhscdn.com/202410221712/c1df0e9958b36d062298ba60eaa007a7/1040g0083196631g44k405n89krpllcniuan75q8!nd_dft_wgth_webp_3',
        comments: [
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
        ],
      },
        { id: 7, title: 'Haikou Observation Deck', description: 'Taken in the blues before sunrise, first time using 12mm focal length. The scenery of Haikou',
         image1: 'https://sns-webpic-qc.xhscdn.com/202410221714/74ed1ee986404129566c88fc84d436f0/1040g00831969rfmp4u004aco5t260ej1f88hgb0!nc_n_webp_mw_1',
        comments: [
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
        ],
      },
        { id: 8, title: 'This is probably the most crowded place in Haikou.', description: "I don't know if it's off-season, but there's not many people here, so I take public transportation, and often take a chartered car, but the old Jialou Street is full of people, half poetic, half fireworks, and retro, and blessed by the Mazu, with a few days of Dad's Tea.",
         image1: 'https://sns-webpic-qc.xhscdn.com/202410221718/c42c201250cc8ce0d4c89852686086f2/1040g0083190qn0d154005nrfdo3g8ofksdib6lg!nc_n_webp_mw_1',
        comments: [
        {name: 'Bob', content: 'You see see you !'},
        {name: 'Jack', content: 'One day day çš„!'},
        {name: 'Rose', content: 'What things have you ever done ?!'}
        ],
      },
        { id: 9, title: 'Post 3', description: 'Description 3', image1: 'https://via.placeholder.com/300' },
        { id: 10, title: 'Post 3', description: 'Description 3', image1: 'https://via.placeholder.com/300' },
        { id: 11, title: 'Post 3', description: 'Description 3', image1: 'https://via.placeholder.com/300' },
        { id: 12, title: 'Post 3', description: 'Description 3', image1: 'https://via.placeholder.com/300' },
        
      ],
    };
  },
  methods:{
    selectPost(post) {
          this.$emit('post-selected', post); // å‘çˆ¶ç»„ä»¶ä¼ é€’é€‰ä¸­çš„postæ•°æ®
        },
    deleteComment(postId,commentIndex){
      console.log("this.posts",this.posts)
      console.log("this.posts.comments",this.posts.comments)
          // this.posts.comments.splice(index, 1);
           const post = this.posts.find(p => p.id === postId);
                if (post && post.comments) {
                  post.comments.splice(commentIndex, 1); // åˆ é™¤æŒ‡å®šè¯„è®º
                  console.log('Deleted comment at index', commentIndex);
                }
          console.log("deleted a this index",index)
          console.log("this.posts.comments",this.posts.comments)
    }
  }
};
</script>

<style scoped>
.post-list {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between; /* ä½¿å¾—å¡ç‰‡å‡åŒ€åˆ†å¸ƒ */
  padding: 16px;
}

.card-item {
  flex: 0 1 calc(33.33% - 16px); /* è®¾ç½®æ¯ä¸ªå¡ç‰‡çš„å®½åº¦ï¼Œå‡å»é—´è· */
  margin-bottom: 16px; /* æ¯ä¸ªå¡ç‰‡ä¸‹æ–¹çš„é—´è· */
}

@media (max-width: 1024px) {
  .card-item {
    flex: 0 1 calc(50% - 16px); /* å±å¹•è¾ƒçª„æ—¶ï¼Œæ¯è¡Œæ˜¾ç¤º2ä¸ªå¡ç‰‡ */
  }
}

@media (max-width: 600px) {
  .card-item {
    flex: 0 1 100%; /* æ›´å°çš„å±å¹•æ—¶ï¼Œæ¯è¡Œæ˜¾ç¤º1ä¸ªå¡ç‰‡ */
  }
}
</style>
